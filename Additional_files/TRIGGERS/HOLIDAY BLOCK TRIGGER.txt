---TRIGGER TO BLOCK OPERATIONS ON HOLIDAY



---TRIGGER TO BLOCK OPERATIONS ON HOLIDAY ON PRODUCT TABLE

CREATE OR REPLACE TRIGGER HOLIDAY_PRODUCT BEFORE INSERT OR UPDATE OR DELETE  ON PRODUCT
DECLARE
D VARCHAR2(10);
BEGIN
D:=TRIM(TO_CHAR(SYSDATE,'DAY'));
IF(UPPER(D)=UPPER('SUNDAY')) THEN
  RAISE_APPLICATION_ERROR(-20003,'NO MODIFICATIONS ALLOWED ON HOLIDAY');
END IF;
END; 


---TRIGGER TO BLOCK OPERATIONS ON HOLIDAY ON BILL TABLE



CREATE OR REPLACE TRIGGER HOLIDAY_BILL BEFORE INSERT OR UPDATE OR DELETE  ON BILL
DECLARE
D VARCHAR2(10);
BEGIN
D:=TRIM(TO_CHAR(SYSDATE,'DAY'));
IF(UPPER(D)=UPPER('SUNDAY')) THEN
  RAISE_APPLICATION_ERROR(-20003,'NO MODIFICATIONS ALLOWED ON HOLIDAY');
END IF;
END;


---TRIGGER TO BLOCK OPERATIONS ON HOLIDAY ON USER_ACCOUNT TABLE


CREATE OR REPLACE TRIGGER HOLIDAY_UACCOUNT BEFORE INSERT OR UPDATE OR DELETE  ON USER_ACCOUNT
DECLARE
D VARCHAR2(10);
BEGIN
D:=TRIM(TO_CHAR(SYSDATE,'DAY'));
IF(UPPER(D)=UPPER('SUNDAY')) THEN
  RAISE_APPLICATION_ERROR(-20003,'NO MODIFICATIONS ALLOWED ON HOLIDAY');
END IF;
END; 