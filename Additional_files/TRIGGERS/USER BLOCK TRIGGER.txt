--TRIGGER TO BLOCK OTHER USERS



---TRIGGER TO BLOCK OTHER USERS FOR PRODUCT TABLE


CREATE OR REPLACE TRIGGER USER_BLOCK_PRODUCT BEFORE UPDATE OR INSERT OR DELETE ON PRODUCT
DECLARE
U VARCHAR2(10);

BEGIN
U:=TRIM(USER);
IF(UPPER(U)<>UPPER('MYDB')) THEN
RAISE_APPLICATION_ERROR(-20001,'USER IS BLOCKED FROM MODIFICATION');
END IF;
END;



---TRIGGER TO BLOCK OTHER USERS FOR BILL TABLE



CREATE OR REPLACE TRIGGER USER_BLOCK_BILL BEFORE UPDATE OR INSERT OR DELETE ON BILL
DECLARE
U VARCHAR2(10);

BEGIN
U:=TRIM(USER);
IF(UPPER(U)<>UPPER('MYDB')) THEN
RAISE_APPLICATION_ERROR(-20001,'USER IS BLOCKED FROM MODIFICATION');
END IF;
END;


---TRIGGER TO BLOCK OTHER USERS FOR USER_ACCOUNT TABLE



CREATE OR REPLACE TRIGGER USER_BLOCK_UACCOUNT BEFORE UPDATE OR INSERT OR DELETE ON USER_ACCOUNT
DECLARE
U VARCHAR2(10);

BEGIN
U:=TRIM(USER);
IF(UPPER(U)<>UPPER('MYDB')) THEN
RAISE_APPLICATION_ERROR(-20001,'USER IS BLOCKED FROM MODIFICATION');
END IF;
END;


